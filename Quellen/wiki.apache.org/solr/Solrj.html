<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>

<!-- Mirrored from wiki.apache.org/solr/Solrj by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 09 Sep 2015 08:44:47 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<meta name="robots" content="index,nofollow">

<title>Solrj - Solr Wiki</title>
<script type="text/javascript" src="https://wiki.apache.org/wiki/common/js/common.js"></script>

<script type="text/javascript">
<!--
var search_hint = "Search";
//-->
</script>


<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="https://wiki.apache.org/wiki/modernized/css/common.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="screen" href="https://wiki.apache.org/wiki/modernized/css/screen.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="print" href="https://wiki.apache.org/wiki/modernized/css/print.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="projection" href="https://wiki.apache.org/wiki/modernized/css/projection.css">

<!-- css only for MS IE6/IE7 browsers -->
<!--[if lt IE 8]>
   <link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="/wiki/modernized/css/msie.css">
<![endif]-->


<link rel="alternate" title="Solr Wiki: Solrj" href="https://wiki.apache.org/solr/Solrj?diffs=1&amp;show_att=1&amp;action=rss_rc&amp;unique=0&amp;page=Solrj&amp;ddiffs=1" type="application/rss+xml">


<link rel="Start" href="https://wiki.apache.org/solr/FrontPage">
<link rel="Alternate" title="Wiki Markup" href="https://wiki.apache.org/solr/Solrj?action=raw">
<link rel="Alternate" media="print" title="Print View" href="https://wiki.apache.org/solr/Solrj?action=print">
<link rel="Search" href="https://wiki.apache.org/solr/FindPage">
<link rel="Index" href="https://wiki.apache.org/solr/TitleIndex">
<link rel="Glossary" href="https://wiki.apache.org/solr/WordIndex">
<link rel="Help" href="https://wiki.apache.org/solr/HelpOnFormatting">
</head>

<body  lang="en" dir="ltr">

<div id="header">

<form id="searchform" method="get" action="https://wiki.apache.org/solr/Solrj">
<div>
<input type="hidden" name="action" value="fullsearch">
<input type="hidden" name="context" value="180">
<label for="searchinput">Search:</label>
<input id="searchinput" type="text" name="value" value="" size="20"
    onfocus="searchFocus(this)" onblur="searchBlur(this)"
    onkeyup="searchChange(this)" onchange="searchChange(this)" alt="Search">
<input id="titlesearch" name="titlesearch" type="submit"
    value="Titles" alt="Search Titles">
<input id="fullsearch" name="fullsearch" type="submit"
    value="Text" alt="Search Full Text">
</div>
</form>
<script type="text/javascript">
<!--// Initialize search form
var f = document.getElementById('searchform');
f.getElementsByTagName('label')[0].style.display = 'none';
var e = document.getElementById('searchinput');
searchChange(e);
searchBlur(e);
//-->
</script>

<div id="logo"><a href="https://wiki.apache.org/solr/FrontPage">Solr Wiki</a></div>
<div id="username"><a href="https://wiki.apache.org/solr/Solrj?action=login" id="login" rel="nofollow">Login</a></div>
<h1 id="locationline">

<span id="pagelocation"><a class="backlink" href="https://wiki.apache.org/solr/Solrj?action=fullsearch&amp;value=linkto%3A%22Solrj%22&amp;context=180" rel="nofollow" title="Click to do a full-text search for this title">Solrj</a></span>
</h1>


<ul id="navibar">
<li class="wikilink"><a href="https://wiki.apache.org/solr/FrontPage">FrontPage</a></li><li class="wikilink"><a href="https://wiki.apache.org/solr/RecentChanges">RecentChanges</a></li><li class="wikilink"><a href="https://wiki.apache.org/solr/FindPage">FindPage</a></li><li class="wikilink"><a href="https://wiki.apache.org/solr/HelpContents">HelpContents</a></li><li class="current"><a href="https://wiki.apache.org/solr/Solrj">Solrj</a></li>
</ul>

<div id="pageline"><hr style="display:none;"></div>

<ul class="editbar"><li><span class="disabled">Immutable Page</span></li><li class="toggleCommentsButton" style="display:none;"><a href="#" class="nbcomment" onClick="toggleComments();return false;">Comments</a></li><li><a class="nbinfo" href="https://wiki.apache.org/solr/Solrj?action=info" rel="nofollow">Info</a></li><li><a class="nbattachments" href="https://wiki.apache.org/solr/Solrj?action=AttachFile" rel="nofollow">Attachments</a></li><li>
<form class="actionsmenu" method="GET" action="https://wiki.apache.org/solr/Solrj">
<div>
    <label>More Actions:</label>
    <select name="action"
        onchange="if ((this.selectedIndex != 0) &&
                      (this.options[this.selectedIndex].disabled == false)) {
                this.form.submit();
            }
            this.selectedIndex = 0;">
        <option value="raw">Raw Text</option>
<option value="print">Print View</option>
<option value="RenderAsDocbook">Render as Docbook</option>
<option value="refresh">Delete Cache</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="SpellCheck">Check Spelling</option>
<option value="LikePages">Like Pages</option>
<option value="LocalSiteMap">Local Site Map</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="RenamePage" disabled class="disabled">Rename Page</option>
<option value="CopyPage">Copy Page</option>
<option value="DeletePage" disabled class="disabled">Delete Page</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="MyPages">My Pages</option>
<option value="show" disabled class="disabled">Subscribe User</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">Remove Spam</option>
<option value="show" disabled class="disabled">Revert to this revision</option>
<option value="PackagePages">Package Pages</option>
<option value="SyncPages">Sync Pages</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="Load">Load</option>
<option value="Save">Save</option>
<option value="SlideShow">SlideShow</option>
    </select>
    <input type="submit" value="Do">
    
</div>
<script type="text/javascript">
<!--// Init menu
actionsMenuInit('More Actions:');
//-->
</script>
</form>
</li></ul>

</div>

<div id="page" lang="en" dir="ltr">
<div dir="ltr" id="content" lang="en"><span class="anchor" id="top"></span>
<span class="anchor" id="line-1"></span><p class="line867"><div class="table-of-contents"><p class="table-of-contents-heading">Contents<ol><li>
<a href="#SolrJ.2FSolr_cross-version_compatibility">SolrJ/Solr cross-version compatibility</a></li><li>
<a href="#Setting_the_classpath">Setting the classpath</a><ol><li>
<a href="#Maven">Maven</a></li></ol></li><li>
<a href="#HttpSolrServer">HttpSolrServer</a><ol><li>
<a href="#Changing_other_Connection_Settings">Changing other Connection Settings</a></li></ol></li><li>
<a href="#EmbeddedSolrServer">EmbeddedSolrServer</a></li><li>
<a href="#Usage">Usage</a><ol><li>
<a href="#Adding_Data_to_Solr">Adding Data to Solr</a><ol><li>
<a href="#Streaming_documents_for_an_update">Streaming documents for an update</a></li><li>
<a href="#Directly_adding_POJOs_to_Solr">Directly adding POJOs to Solr</a></li><li>
<a href="#Solr_Transactions">Solr Transactions</a></li><li>
<a href="#Reading_data_from_a_database">Reading data from a database</a></li></ol></li><li>
<a href="#Setting_the_RequestWriter">Setting the RequestWriter</a></li><li>
<a href="#Reading_Data_from_Solr">Reading Data from Solr</a><ol><li>
<a href="#Advanced_usage">Advanced usage</a></li><li>
<a href="#Highlighting">Highlighting</a></li><li>
<a href="#Load_Balancer_for_Queries">Load Balancer for Queries</a></li></ol></li><li>
<a href="#Use_Groovy_and_Grape">Use Groovy and Grape</a></li><li>
<a href="#Using_with_SolrCloud">Using with SolrCloud</a></li></ol></li></ol></div> <span class="anchor" id="line-2"></span><span class="anchor" id="line-3"></span><p class="line874">Solrj is a java client to access solr. It offers a java interface to add, update, and query the solr index. This page describes the use of the SolrJ releases included with Solr 1.4.x releases, with the 1.4.x war files. <span class="anchor" id="line-4"></span><span class="anchor" id="line-5"></span><p class="line862">For information on using SolrJ with Solr1.3 and Solr1.2, see the <a class="http" href="http://wiki.apache.org/solr/Solrj1.3">Solrj1.3</a> page. <span class="anchor" id="line-6"></span><span class="anchor" id="line-7"></span><p class="line867">
<h1 id="SolrJ.2FSolr_cross-version_compatibility">SolrJ/Solr cross-version compatibility</h1>
<span class="anchor" id="line-8"></span><span class="anchor" id="line-9"></span><p class="line874">SolrJ generally maintains backwards compatibility, so you can use a newer SolrJ with an older Solr, or an older SolrJ with a newer Solr.  There are some minor exceptions to this general rule: <span class="anchor" id="line-10"></span><span class="anchor" id="line-11"></span><p class="line874">If you're mixing 1.x and a later major version, you must set the response parser to XML, because the two versions use incompatible versions of javabin. <span class="anchor" id="line-12"></span><span class="anchor" id="line-13"></span><p class="line867"><span class="anchor" id="line-14"></span><span class="anchor" id="line-15"></span><pre><span class="anchor" id="line-1"></span>server.setParser(new XMLResponseParser());</pre><span class="anchor" id="line-16"></span><span class="anchor" id="line-17"></span><p class="line862">Mixing 3.x with a 4.x or later version will work fine, as long as you have NOT changed the request writer to binary.  <img alt="&lt;!&gt;" height="16" src="https://wiki.apache.org/wiki/modernized/img/attention.png" title="&lt;!&gt;" width="16" /> There is discussion in SOLR-3038 about changing the default request writer to binary.  If this is done, then compatibility between 3.x and later versions would required setting the request writer explicitly to the XML version.  If that change is made, there is another discussion in SOLR-4820 about adding automatic transport detection. <span class="anchor" id="line-18"></span><span class="anchor" id="line-19"></span><p class="line862">The one exception to this is the javabin format, which has changed in incompatible ways between major releases.  You cannot use javabin to communicate between 1.4.1 or older and 3.1 or later (due to a change in character encoding in the protocol), and you cannot use javabin to communicate between 4.x client and 3.x or older server due to a change in the way the service urls are mapped, as well as backwards-incompatible extensions to the protocol.  In these situations, simply don't provide a <a class="nonexistent" href="https://wiki.apache.org/solr/SolrServer">SolrServer</a> request writer, and you will get the default (XML) wire format. <span class="anchor" id="line-20"></span><span class="anchor" id="line-21"></span><p class="line862">If you are using an older SolrJ with a 4.x or later server, the most likely feature you might need from SolrJ 4.0 that you won't find in older versions is the new setRequestHandler method on <a href="https://wiki.apache.org/solr/SolrQuery">SolrQuery</a> objects.  It's worth noting that this method is even useful if SolrJ is newer than Solr. <span class="anchor" id="line-22"></span><span class="anchor" id="line-23"></span><p class="line867">
<h1 id="Setting_the_classpath">Setting the classpath</h1>
<span class="anchor" id="line-24"></span><span class="anchor" id="line-25"></span><p class="line874">There are several folders containing jars used by SolrJ: /dist, /dist/solrj-lib and /lib. A minimal set of jars (you may find need of others depending on your usage scenario) to use SolrJ is as follows: <span class="anchor" id="line-26"></span><span class="anchor" id="line-27"></span><p class="line874">From /dist: <span class="anchor" id="line-28"></span><span class="anchor" id="line-29"></span><ul><li>apache-solr-solrj-*.jar <span class="anchor" id="line-30"></span><span class="anchor" id="line-31"></span></li></ul><p class="line874">From /dist/solrj-lib <span class="anchor" id="line-32"></span><span class="anchor" id="line-33"></span><ul><li>commons-codec-1.3.jar <span class="anchor" id="line-34"></span></li><li>commons-httpclient-3.1.jar <span class="anchor" id="line-35"></span></li><li>commons-io-1.4.jar <span class="anchor" id="line-36"></span></li><li>jcl-over-slf4j-1.5.5.jar <span class="anchor" id="line-37"></span></li><li>slf4j-api-1.5.5.jar <span class="anchor" id="line-38"></span><span class="anchor" id="line-39"></span></li></ul><p class="line874">From /lib <span class="anchor" id="line-40"></span><span class="anchor" id="line-41"></span><ul><li>slf4j-jdk14-1.5.5.jar <span class="anchor" id="line-42"></span><span class="anchor" id="line-43"></span><span class="anchor" id="line-44"></span></li></ul><p class="line867">
<h2 id="Maven">Maven</h2>
<span class="anchor" id="line-45"></span><span class="anchor" id="line-46"></span><p class="line874">Solrj is available in the official Maven repository. Add the following dependency to your pom.xml to use SolrJ <span class="anchor" id="line-47"></span><span class="anchor" id="line-48"></span><p class="line867"><span class="anchor" id="line-49"></span><span class="anchor" id="line-50"></span><span class="anchor" id="line-51"></span><span class="anchor" id="line-52"></span><span class="anchor" id="line-53"></span><span class="anchor" id="line-54"></span><span class="anchor" id="line-55"></span><span class="anchor" id="line-56"></span><pre><span class="anchor" id="line-1-1"></span>        &lt;dependency&gt;
<span class="anchor" id="line-2"></span>               &lt;artifactId&gt;solr-solrj&lt;/artifactId&gt;
<span class="anchor" id="line-3"></span>               &lt;groupId&gt;org.apache.solr&lt;/groupId&gt;
<span class="anchor" id="line-4"></span>               &lt;version&gt;1.4.0&lt;/version&gt;
<span class="anchor" id="line-5"></span>               &lt;type&gt;jar&lt;/type&gt;
<span class="anchor" id="line-6"></span>               &lt;scope&gt;compile&lt;/scope&gt;
<span class="anchor" id="line-7"></span>        &lt;/dependency&gt;</pre><span class="anchor" id="line-57"></span><p class="line862">If you need to use the EmbeddedSolrServer, you need to add the solr-core dependency too. <span class="anchor" id="line-58"></span><span class="anchor" id="line-59"></span><p class="line867"><span class="anchor" id="line-60"></span><span class="anchor" id="line-61"></span><span class="anchor" id="line-62"></span><span class="anchor" id="line-63"></span><span class="anchor" id="line-64"></span><span class="anchor" id="line-65"></span><span class="anchor" id="line-66"></span><span class="anchor" id="line-67"></span><pre><span class="anchor" id="line-1-2"></span>        &lt;dependency&gt;
<span class="anchor" id="line-2-1"></span>               &lt;artifactId&gt;solr-core&lt;/artifactId&gt;
<span class="anchor" id="line-3-1"></span>               &lt;groupId&gt;org.apache.solr&lt;/groupId&gt;
<span class="anchor" id="line-4-1"></span>               &lt;version&gt;1.4.0&lt;/version&gt;
<span class="anchor" id="line-5-1"></span>               &lt;type&gt;jar&lt;/type&gt;
<span class="anchor" id="line-6-1"></span>               &lt;scope&gt;compile&lt;/scope&gt;
<span class="anchor" id="line-7-1"></span>        &lt;/dependency&gt;</pre><span class="anchor" id="line-68"></span><span class="anchor" id="line-69"></span><p class="line862">Also, if using EmbeddedSolrServer, keep in mind that Solr depends on the Servlet API. This may already be present in your web based applications, but even command line will require a dependency like so: <span class="anchor" id="line-70"></span><span class="anchor" id="line-71"></span><span class="anchor" id="line-72"></span><span class="anchor" id="line-73"></span><span class="anchor" id="line-74"></span><span class="anchor" id="line-75"></span><span class="anchor" id="line-76"></span><pre><span class="anchor" id="line-1-3"></span>        &lt;dependency&gt;
<span class="anchor" id="line-2-2"></span>               &lt;groupId&gt;javax.servlet&lt;/groupId&gt;
<span class="anchor" id="line-3-2"></span>               &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;
<span class="anchor" id="line-4-2"></span>               &lt;version&gt;2.5&lt;/version&gt;
<span class="anchor" id="line-5-2"></span>        &lt;/dependency&gt;</pre><span class="anchor" id="line-77"></span><span class="anchor" id="line-78"></span><p class="line862">If you see any exceptions saying <a class="nonexistent" href="https://wiki.apache.org/solr/NoClassDefFoundError">NoClassDefFoundError</a>, you will also need to include: <span class="anchor" id="line-79"></span><span class="anchor" id="line-80"></span><span class="anchor" id="line-81"></span><span class="anchor" id="line-82"></span><span class="anchor" id="line-83"></span><span class="anchor" id="line-84"></span><span class="anchor" id="line-85"></span><pre><span class="anchor" id="line-1-4"></span>        &lt;dependency&gt;
<span class="anchor" id="line-2-3"></span>            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;
<span class="anchor" id="line-3-3"></span>            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;
<span class="anchor" id="line-4-3"></span>            &lt;version&gt;1.5.6&lt;/version&gt;
<span class="anchor" id="line-5-3"></span>        &lt;/dependency&gt;</pre><span class="anchor" id="line-86"></span><span class="anchor" id="line-87"></span><p class="line862">If you use solr-solrj version 1.4.1 and slf4j-simple 1.5.6 you may get <a class="nonexistent" href="https://wiki.apache.org/solr/IllegalAccessError">IllegalAccessError</a> because of slf4j-api change. <span class="anchor" id="line-88"></span>Solrj uses slf4j-api 1.5.5 so you have to use slf4j-simple 1.5.5 or other binding with appropriate version. See <a class="http" href="http://www.slf4j.org/faq.html#IllegalAccessError">slf4j FAQ</a>. <span class="anchor" id="line-89"></span><span class="anchor" id="line-90"></span><p class="line867">
<h1 id="HttpSolrServer">HttpSolrServer</h1>
<span class="anchor" id="line-91"></span><p class="line862">The <a class="http" href="http://lucene.apache.org/solr/api/solr-solrj/org/apache/solr/client/solrj/impl/HttpSolrServer.html">HttpSolrServer</a> uses the <a class="http" href="http://jakarta.apache.org/httpcomponents/httpclient-3.x/">Apache Commons HTTP Client</a> to connect to solr.  Note: <a class="nonexistent" href="https://wiki.apache.org/solr/CommonsHttpSolrServer">CommonsHttpSolrServer</a> was changed to <a class="nonexistent" href="https://wiki.apache.org/solr/HttpSolrServer">HttpSolrServer</a> and  <a class="nonexistent" href="https://wiki.apache.org/solr/StreamingUpdateSolrServer">StreamingUpdateSolrServer</a> is now <a class="nonexistent" href="https://wiki.apache.org/solr/ConcurrentUpdateSolrServer">ConcurrentUpdateSolrServer</a> as of solr 4.0. <span class="anchor" id="line-92"></span><span class="anchor" id="line-93"></span><p class="line867"><span class="anchor" id="line-94"></span><span class="anchor" id="line-95"></span><span class="anchor" id="line-96"></span><span class="anchor" id="line-97"></span><span class="anchor" id="line-98"></span><span class="anchor" id="line-99"></span><span class="anchor" id="line-100"></span><span class="anchor" id="line-101"></span><span class="anchor" id="line-102"></span><span class="anchor" id="line-103"></span><pre><span class="anchor" id="line-1-5"></span>  String url = "http://localhost:8983/solr";
<span class="anchor" id="line-2-4"></span>  /*
<span class="anchor" id="line-3-4"></span>    HttpSolrServer is thread-safe and if you are using the following constructor,
<span class="anchor" id="line-4-4"></span>    you *MUST* re-use the same instance for all requests.  If instances are created on
<span class="anchor" id="line-5-4"></span>    the fly, it can cause a connection leak. The recommended practice is to keep a
<span class="anchor" id="line-6-2"></span>    static instance of HttpSolrServer per solr server url and share it for all requests.
<span class="anchor" id="line-7-2"></span>    See https://issues.apache.org/jira/browse/SOLR-861 for more details
<span class="anchor" id="line-8"></span>  */
<span class="anchor" id="line-9"></span>  SolrServer server = new HttpSolrServer( url );</pre><span class="anchor" id="line-104"></span><span class="anchor" id="line-105"></span><span class="anchor" id="line-106"></span><p class="line867">
<h2 id="Changing_other_Connection_Settings">Changing other Connection Settings</h2>
<span class="anchor" id="line-107"></span><p class="line867">HttpSolrServer allows setting connection properties. <span class="anchor" id="line-108"></span><span class="anchor" id="line-109"></span><p class="line867"><span class="anchor" id="line-110"></span><span class="anchor" id="line-111"></span><span class="anchor" id="line-112"></span><span class="anchor" id="line-113"></span><span class="anchor" id="line-114"></span><span class="anchor" id="line-115"></span><span class="anchor" id="line-116"></span><span class="anchor" id="line-117"></span><span class="anchor" id="line-118"></span><span class="anchor" id="line-119"></span><span class="anchor" id="line-120"></span><span class="anchor" id="line-121"></span><span class="anchor" id="line-122"></span><span class="anchor" id="line-123"></span><span class="anchor" id="line-124"></span><span class="anchor" id="line-125"></span><span class="anchor" id="line-126"></span><span class="anchor" id="line-127"></span><span class="anchor" id="line-128"></span><pre><span class="anchor" id="line-1-6"></span>  String url = "http://localhost:8983/solr"
<span class="anchor" id="line-2-5"></span>  HttpSolrServer server = new HttpSolrServer( url );
<span class="anchor" id="line-3-5"></span>  server.setMaxRetries(1); // defaults to 0.  &gt; 1 not recommended.
<span class="anchor" id="line-4-5"></span>  server.setConnectionTimeout(5000); // 5 seconds to establish TCP
<span class="anchor" id="line-5-5"></span>  // Setting the XML response parser is only required for cross
<span class="anchor" id="line-6-3"></span>  // version compatibility and only when one side is 1.4.1 or
<span class="anchor" id="line-7-3"></span>  // earlier and the other side is 3.1 or later.
<span class="anchor" id="line-8-1"></span>  server.setParser(new XMLResponseParser()); // binary parser is used by default
<span class="anchor" id="line-9-1"></span>  // The following settings are provided here for completeness.
<span class="anchor" id="line-10"></span>  // They will not normally be required, and should only be used 
<span class="anchor" id="line-11"></span>  // after consulting javadocs to know whether they are truly required.
<span class="anchor" id="line-12"></span>  server.setSoTimeout(1000);  // socket read timeout
<span class="anchor" id="line-13"></span>  server.setDefaultMaxConnectionsPerHost(100);
<span class="anchor" id="line-14"></span>  server.setMaxTotalConnections(100);
<span class="anchor" id="line-15"></span>  server.setFollowRedirects(false);  // defaults to false
<span class="anchor" id="line-16"></span>  // allowCompression defaults to false.
<span class="anchor" id="line-17"></span>  // Server side must support gzip or deflate for this to have any effect.
<span class="anchor" id="line-18"></span>  server.setAllowCompression(true);</pre><span class="anchor" id="line-129"></span><p class="line867"><span class="anchor" id="EmbeddedSolrServer"></span> <span class="anchor" id="line-130"></span><span class="anchor" id="line-131"></span><p class="line867">
<h1 id="EmbeddedSolrServer-1">EmbeddedSolrServer</h1>
<span class="anchor" id="line-132"></span><p class="line862">The <a class="http" href="http://lucene.apache.org/solr/api/org/apache/solr/client/solrj/embedded/EmbeddedSolrServer.html">EmbeddedSolrServer</a> provides the same interface without requiring an HTTP connection. <span class="anchor" id="line-133"></span><span class="anchor" id="line-134"></span><p class="line867"><span class="anchor" id="line-135"></span><span class="anchor" id="line-136"></span><span class="anchor" id="line-137"></span><span class="anchor" id="line-138"></span><span class="anchor" id="line-139"></span><span class="anchor" id="line-140"></span><pre><span class="anchor" id="line-1-7"></span>  // Note that the following property could be set through JVM level arguments too
<span class="anchor" id="line-2-6"></span>  System.setProperty("solr.solr.home", "/home/shalinsmangar/work/oss/branch-1.3/example/solr");
<span class="anchor" id="line-3-6"></span>  CoreContainer.Initializer initializer = new CoreContainer.Initializer();
<span class="anchor" id="line-4-6"></span>  CoreContainer coreContainer = initializer.initialize();
<span class="anchor" id="line-5-6"></span>  EmbeddedSolrServer server = new EmbeddedSolrServer(coreContainer, "");</pre><span class="anchor" id="line-141"></span><p class="line862">If you want to use <a href="https://wiki.apache.org/solr/MultiCore">MultiCore</a> features, then you should use this: <span class="anchor" id="line-142"></span><span class="anchor" id="line-143"></span><p class="line867"><span class="anchor" id="line-144"></span><span class="anchor" id="line-145"></span><span class="anchor" id="line-146"></span><span class="anchor" id="line-147"></span><span class="anchor" id="line-148"></span><span class="anchor" id="line-149"></span><span class="anchor" id="line-150"></span><span class="anchor" id="line-151"></span><pre><span class="anchor" id="line-1-8"></span>    File home = new File( "/path/to/solr/home" );
<span class="anchor" id="line-2-7"></span>    File f = new File( home, "solr.xml" );
<span class="anchor" id="line-3-7"></span>    CoreContainer container = new CoreContainer();
<span class="anchor" id="line-4-7"></span>    container.load( "/path/to/solr/home", f );
<span class="anchor" id="line-5-7"></span>
<span class="anchor" id="line-6-4"></span>    EmbeddedSolrServer server = new EmbeddedSolrServer( container, "core name as defined in solr.xml" );
<span class="anchor" id="line-7-4"></span>    ...</pre><span class="anchor" id="line-152"></span><p class="line874">If you need to use solr in an embedded application, this is the recommended approach. It allows you to work with the same interface whether or not you have access to HTTP. <span class="anchor" id="line-153"></span><span class="anchor" id="line-154"></span><p class="line867"><img alt="/!\" height="16" src="https://wiki.apache.org/wiki/modernized/img/alert.png" title="/!\" width="16" /> Note -- EmbeddedSolrServer works only with handlers registered in <a class="http" href="http://wiki.apache.org/solr/SolrConfigXml">solrconfig.xml</a>. A <a class="http" href="http://wiki.apache.org/solr/SolrRequestHandler">RequestHandler</a> must be mapped to /update for a request to /update to function. <span class="anchor" id="line-155"></span><span class="anchor" id="line-156"></span><p class="line867"><img alt="/!\" height="16" src="https://wiki.apache.org/wiki/modernized/img/alert.png" title="/!\" width="16" /> Note -- <em>Isn't EmbeddedSolrServer not considered a "Best Practice"?  Perhaps some issue with isolation of JVMs.</em> <span class="anchor" id="line-157"></span><span class="anchor" id="line-158"></span><p class="line867">
<h1 id="Usage">Usage</h1>
<span class="anchor" id="line-159"></span><p class="line862">Solrj is designed as an extendable framework to pass <a class="http" href="http://lucene.apache.org/solr/api/solr-solrj/org/apache/solr/client/solrj/SolrRequest.html">SolrRequest</a> to the <a class="http" href="http://lucene.apache.org/solr/api/solr-solrj/org/apache/solr/client/solrj/SolrServer.html">SolrServer</a> and return a <a class="http" href="http://lucene.apache.org/solr/api/solr-solrj/org/apache/solr/client/solrj/SolrResponse.html">SolrResponse</a>. <span class="anchor" id="line-160"></span><span class="anchor" id="line-161"></span><p class="line862">For simplicity, the most common commands are modeled in the <a class="http" href="http://lucene.apache.org/solr/api/solr-solrj/org/apache/solr/client/solrj/SolrServer.html">SolrServer</a>: <span class="anchor" id="line-162"></span><span class="anchor" id="line-163"></span><p class="line867">
<h2 id="Adding_Data_to_Solr">Adding Data to Solr</h2>
<span class="anchor" id="line-164"></span><ul><li><p class="line862">Get an instance of server first.  For a local server, use <a class="nonexistent" href="https://wiki.apache.org/solr/HttpSolrServer">HttpSolrServer</a>: <span class="anchor" id="line-165"></span><span class="anchor" id="line-166"></span></li></ul><p class="line867"><span class="anchor" id="line-167"></span><span class="anchor" id="line-168"></span><pre><span class="anchor" id="line-1-9"></span>    SolrServer server = new HttpSolrServer("http://HOST:8983/solr/");</pre><span class="anchor" id="line-169"></span><span class="anchor" id="line-170"></span><ul><li>To use a local, embedded server instead: <span class="anchor" id="line-171"></span><span class="anchor" id="line-172"></span></li></ul><p class="line867"><span class="anchor" id="line-173"></span><span class="anchor" id="line-174"></span><pre><span class="anchor" id="line-1-10"></span>    SolrServer server = new EmbeddedSolrServer();</pre><span class="anchor" id="line-175"></span><ul><li>If you wish to delete all the data from the index, do this <span class="anchor" id="line-176"></span><span class="anchor" id="line-177"></span></li></ul><p class="line867"><span class="anchor" id="line-178"></span><span class="anchor" id="line-179"></span><pre><span class="anchor" id="line-1-11"></span>    server.deleteByQuery( "*:*" );// CAUTION: deletes everything!</pre><span class="anchor" id="line-180"></span><ul><li>Construct a document <span class="anchor" id="line-181"></span><span class="anchor" id="line-182"></span></li></ul><p class="line867"><span class="anchor" id="line-183"></span><span class="anchor" id="line-184"></span><span class="anchor" id="line-185"></span><span class="anchor" id="line-186"></span><span class="anchor" id="line-187"></span><pre><span class="anchor" id="line-1-12"></span>    SolrInputDocument doc1 = new SolrInputDocument();
<span class="anchor" id="line-2-8"></span>    doc1.addField( "id", "id1", 1.0f );
<span class="anchor" id="line-3-8"></span>    doc1.addField( "name", "doc1", 1.0f );
<span class="anchor" id="line-4-8"></span>    doc1.addField( "price", 10 );</pre><span class="anchor" id="line-188"></span><ul><li><p class="line862">Construct another document. Each document can be independently be added but it is more efficient to do a batch update. Every call to <tt class="backtick">SolrServer</tt> is an Http Call (This is not true for EmbeddedSolrServer). <span class="anchor" id="line-189"></span><span class="anchor" id="line-190"></span></li></ul><p class="line867"><span class="anchor" id="line-191"></span><span class="anchor" id="line-192"></span><span class="anchor" id="line-193"></span><span class="anchor" id="line-194"></span><span class="anchor" id="line-195"></span><pre><span class="anchor" id="line-1-13"></span>    SolrInputDocument doc2 = new SolrInputDocument();
<span class="anchor" id="line-2-9"></span>    doc2.addField( "id", "id2", 1.0f );
<span class="anchor" id="line-3-9"></span>    doc2.addField( "name", "doc2", 1.0f );
<span class="anchor" id="line-4-9"></span>    doc2.addField( "price", 20 );</pre><span class="anchor" id="line-196"></span><p class="line862">Fields "id","name" and "price" are already included in Solr installation, you must add your new custom fields in <a href="https://wiki.apache.org/solr/SchemaXml">SchemaXml</a>. <span class="anchor" id="line-197"></span><ul><li>Create a collection of documents <span class="anchor" id="line-198"></span><span class="anchor" id="line-199"></span></li></ul><p class="line867"><span class="anchor" id="line-200"></span><span class="anchor" id="line-201"></span><span class="anchor" id="line-202"></span><span class="anchor" id="line-203"></span><pre><span class="anchor" id="line-1-14"></span>    Collection&lt;SolrInputDocument&gt; docs = new ArrayList&lt;SolrInputDocument&gt;();
<span class="anchor" id="line-2-10"></span>    docs.add( doc1 );
<span class="anchor" id="line-3-10"></span>    docs.add( doc2 );</pre><span class="anchor" id="line-204"></span><ul><li>Add the documents to Solr <span class="anchor" id="line-205"></span><span class="anchor" id="line-206"></span></li></ul><p class="line867"><span class="anchor" id="line-207"></span><span class="anchor" id="line-208"></span><pre><span class="anchor" id="line-1-15"></span>    server.add( docs );</pre><span class="anchor" id="line-209"></span><ul><li>Do a commit <span class="anchor" id="line-210"></span><span class="anchor" id="line-211"></span></li></ul><p class="line867"><span class="anchor" id="line-212"></span><span class="anchor" id="line-213"></span><pre><span class="anchor" id="line-1-16"></span>    server.commit();</pre><span class="anchor" id="line-214"></span><ul><li>To immediately commit after adding documents, you could use: <span class="anchor" id="line-215"></span><span class="anchor" id="line-216"></span></li></ul><p class="line867"><span class="anchor" id="line-217"></span><span class="anchor" id="line-218"></span><span class="anchor" id="line-219"></span><span class="anchor" id="line-220"></span><span class="anchor" id="line-221"></span><pre><span class="anchor" id="line-1-17"></span>  UpdateRequest req = new UpdateRequest();
<span class="anchor" id="line-2-11"></span>  req.setAction( UpdateRequest.ACTION.COMMIT, false, false );
<span class="anchor" id="line-3-11"></span>  req.add( docs );
<span class="anchor" id="line-4-10"></span>  UpdateResponse rsp = req.process( server );</pre><span class="anchor" id="line-222"></span><span class="anchor" id="line-223"></span><span class="anchor" id="line-224"></span><p class="line867">
<h3 id="Streaming_documents_for_an_update">Streaming documents for an update</h3>
<span class="anchor" id="line-225"></span><span class="anchor" id="line-226"></span><p class="line862">In most cases <a class="http" href="http://lucene.apache.org/solr/api/solr-solrj/org/apache/solr/client/solrj/impl/ConcurrentUpdateSolrServer.html">ConcurrentUpdateSolrServer</a> will suit your needs. Alternatively, the workaround presented below can be applied. <span class="anchor" id="line-227"></span><span class="anchor" id="line-228"></span><p class="line874">This is the most optimal way of updating all your docs in one http request. <span class="anchor" id="line-229"></span><span class="anchor" id="line-230"></span><p class="line867"><span class="anchor" id="line-231"></span><span class="anchor" id="line-232"></span><span class="anchor" id="line-233"></span><span class="anchor" id="line-234"></span><span class="anchor" id="line-235"></span><span class="anchor" id="line-236"></span><span class="anchor" id="line-237"></span><span class="anchor" id="line-238"></span><span class="anchor" id="line-239"></span><span class="anchor" id="line-240"></span><span class="anchor" id="line-241"></span><span class="anchor" id="line-242"></span><span class="anchor" id="line-243"></span><span class="anchor" id="line-244"></span><span class="anchor" id="line-245"></span><span class="anchor" id="line-246"></span><pre><span class="anchor" id="line-1-18"></span>HttpSolrServer server = new HttpSolrServer();
<span class="anchor" id="line-2-12"></span>Iterator&lt;SolrInputDocument&gt; iter = new Iterator&lt;SolrInputDocument&gt;(){
<span class="anchor" id="line-3-12"></span>     public boolean hasNext() {
<span class="anchor" id="line-4-11"></span>        boolean result ;
<span class="anchor" id="line-5-8"></span>        // set the result to true false to say if you have more documensts
<span class="anchor" id="line-6-5"></span>        return result;
<span class="anchor" id="line-7-5"></span>      }
<span class="anchor" id="line-8-2"></span>
<span class="anchor" id="line-9-2"></span>      public SolrInputDocument next() {
<span class="anchor" id="line-10-1"></span>        SolrInputDocument result = null;
<span class="anchor" id="line-11-1"></span>        // construct a new document here and set it to result
<span class="anchor" id="line-12-1"></span>        return result;
<span class="anchor" id="line-13-1"></span>      }
<span class="anchor" id="line-14-1"></span>};
<span class="anchor" id="line-15-1"></span>server.add(iter);</pre><span class="anchor" id="line-247"></span><p class="line862">you may also use the <tt class="backtick">addBeans(Iterator&lt;?&gt;&nbsp;beansIter)</tt> method to write pojos  <span class="anchor" id="pojo"></span> <span class="anchor" id="line-248"></span><span class="anchor" id="line-249"></span><p class="line867">
<h3 id="Directly_adding_POJOs_to_Solr">Directly adding POJOs to Solr</h3>
<span class="anchor" id="line-250"></span><ul><li><p class="line862">Create a Java bean with annotations. The <tt class="backtick">@Field</tt> annotation can be applied to a field or a setter method. If the field name is different from the bean field name give the aliased name in the annotation itself as shown in the categories field. <span class="anchor" id="line-251"></span><span class="anchor" id="line-252"></span></li></ul><p class="line867"><span class="anchor" id="line-253"></span><span class="anchor" id="line-254"></span><span class="anchor" id="line-255"></span><span class="anchor" id="line-256"></span><span class="anchor" id="line-257"></span><span class="anchor" id="line-258"></span><span class="anchor" id="line-259"></span><span class="anchor" id="line-260"></span><span class="anchor" id="line-261"></span><span class="anchor" id="line-262"></span><span class="anchor" id="line-263"></span><span class="anchor" id="line-264"></span><span class="anchor" id="line-265"></span><span class="anchor" id="line-266"></span><pre><span class="anchor" id="line-1-19"></span>import org.apache.solr.client.solrj.beans.Field;
<span class="anchor" id="line-2-13"></span>
<span class="anchor" id="line-3-13"></span> public class Item {
<span class="anchor" id="line-4-12"></span>    @Field
<span class="anchor" id="line-5-9"></span>    String id;
<span class="anchor" id="line-6-6"></span>
<span class="anchor" id="line-7-6"></span>    @Field("cat")
<span class="anchor" id="line-8-3"></span>    String[] categories;
<span class="anchor" id="line-9-3"></span>
<span class="anchor" id="line-10-2"></span>    @Field
<span class="anchor" id="line-11-2"></span>    List&lt;String&gt; features;
<span class="anchor" id="line-12-2"></span>
<span class="anchor" id="line-13-2"></span>  }</pre><span class="anchor" id="line-267"></span><p class="line862">The <tt class="backtick">@Field</tt> annotation can be applied on setter methods as well example: <span class="anchor" id="line-268"></span><span class="anchor" id="line-269"></span><p class="line867"><span class="anchor" id="line-270"></span><span class="anchor" id="line-271"></span><span class="anchor" id="line-272"></span><span class="anchor" id="line-273"></span><span class="anchor" id="line-274"></span><pre><span class="anchor" id="line-1-20"></span>    @Field("cat")
<span class="anchor" id="line-2-14"></span>   public void setCategory(String[] c){
<span class="anchor" id="line-3-14"></span>       this.categories = c;
<span class="anchor" id="line-4-13"></span>   }</pre><span class="anchor" id="line-275"></span><p class="line874">There should be a corresponding getter method (without annotation) for reading attributes <span class="anchor" id="line-276"></span><span class="anchor" id="line-277"></span><ul><li>Get an instance of server <span class="anchor" id="line-278"></span><span class="anchor" id="line-279"></span></li></ul><p class="line867"><span class="anchor" id="line-280"></span><span class="anchor" id="line-281"></span><pre><span class="anchor" id="line-1-21"></span>    SolrServer server = getSolrServer();</pre><span class="anchor" id="line-282"></span><ul><li>Create the bean instances <span class="anchor" id="line-283"></span><span class="anchor" id="line-284"></span></li></ul><p class="line867"><span class="anchor" id="line-285"></span><span class="anchor" id="line-286"></span><span class="anchor" id="line-287"></span><span class="anchor" id="line-288"></span><pre><span class="anchor" id="line-1-22"></span>    Item item = new Item();
<span class="anchor" id="line-2-15"></span>    item.id = "one";
<span class="anchor" id="line-3-15"></span>    item.categories =  new String[] { "aaa", "bbb", "ccc" };</pre><span class="anchor" id="line-289"></span><ul><li>Add to Solr <span class="anchor" id="line-290"></span><span class="anchor" id="line-291"></span></li></ul><p class="line867"><span class="anchor" id="line-292"></span><span class="anchor" id="line-293"></span><pre><span class="anchor" id="line-1-23"></span>   server.addBean(item);</pre><span class="anchor" id="line-294"></span><ul><li>Adding multiple beans together <span class="anchor" id="line-295"></span><span class="anchor" id="line-296"></span></li></ul><p class="line867"><span class="anchor" id="line-297"></span><span class="anchor" id="line-298"></span><span class="anchor" id="line-299"></span><span class="anchor" id="line-300"></span><pre><span class="anchor" id="line-1-24"></span>  List&lt;Item&gt; beans ;
<span class="anchor" id="line-2-16"></span>  //add Item objects to the list
<span class="anchor" id="line-3-16"></span>  server.addBeans(beans);</pre><span class="anchor" id="line-301"></span><p class="line867"><img alt="/!\" height="16" src="https://wiki.apache.org/wiki/modernized/img/alert.png" title="/!\" width="16" /> Note --  Reuse the instance of SolrServer if you are using this feature (for performance ) <span class="anchor" id="line-302"></span><span class="anchor" id="line-303"></span><p class="line867">
<h3 id="Solr_Transactions">Solr Transactions</h3>
<span class="anchor" id="line-304"></span><span class="anchor" id="line-305"></span><p class="line874">Solr implements transactions at the server level. This means that every commit, optimize, or rollback applies to all requests since the last commit/optimize/rollback. <span class="anchor" id="line-306"></span><span class="anchor" id="line-307"></span><p class="line874">The most appropriate way to update solr is with a single process in order to avoid race conditions when using commit and rollback. Also, ideally the application will use batch processing since commit and optimize can be expensive routines. <span class="anchor" id="line-308"></span><span class="anchor" id="line-309"></span><p class="line867">
<h3 id="Reading_data_from_a_database">Reading data from a database</h3>
<span class="anchor" id="line-310"></span><span class="anchor" id="line-311"></span><p class="line867"><img alt="/!\" height="16" src="https://wiki.apache.org/wiki/modernized/img/alert.png" title="/!\" width="16" /> This example class using SolrJ has not yet been tested, but hopefully it's complete enough for community comment. <span class="anchor" id="line-312"></span><span class="anchor" id="line-313"></span><p class="line862">It will get tested eventually and updated here if there are problems.  The addResultSet method takes a JDBC <a class="nonexistent" href="https://wiki.apache.org/solr/ResultSet">ResultSet</a> and adds the documents to Solr in batches.  Managing the database connection and constructing the query are not included here. <span class="anchor" id="line-314"></span><span class="anchor" id="line-315"></span><p class="line874">As it's written it maps the database field names to the same fields in Solr, but there are some examples in the comments of how you could manually assign one or more fields. <span class="anchor" id="line-316"></span><span class="anchor" id="line-317"></span><p class="line867"><span class="anchor" id="line-318"></span><span class="anchor" id="line-319"></span><span class="anchor" id="line-320"></span><span class="anchor" id="line-321"></span><span class="anchor" id="line-322"></span><span class="anchor" id="line-323"></span><span class="anchor" id="line-324"></span><span class="anchor" id="line-325"></span><span class="anchor" id="line-326"></span><span class="anchor" id="line-327"></span><span class="anchor" id="line-328"></span><span class="anchor" id="line-329"></span><span class="anchor" id="line-330"></span><span class="anchor" id="line-331"></span><span class="anchor" id="line-332"></span><span class="anchor" id="line-333"></span><span class="anchor" id="line-334"></span><span class="anchor" id="line-335"></span><span class="anchor" id="line-336"></span><span class="anchor" id="line-337"></span><span class="anchor" id="line-338"></span><span class="anchor" id="line-339"></span><span class="anchor" id="line-340"></span><span class="anchor" id="line-341"></span><span class="anchor" id="line-342"></span><span class="anchor" id="line-343"></span><span class="anchor" id="line-344"></span><span class="anchor" id="line-345"></span><span class="anchor" id="line-346"></span><span class="anchor" id="line-347"></span><span class="anchor" id="line-348"></span><span class="anchor" id="line-349"></span><span class="anchor" id="line-350"></span><span class="anchor" id="line-351"></span><span class="anchor" id="line-352"></span><span class="anchor" id="line-353"></span><span class="anchor" id="line-354"></span><span class="anchor" id="line-355"></span><span class="anchor" id="line-356"></span><span class="anchor" id="line-357"></span><span class="anchor" id="line-358"></span><span class="anchor" id="line-359"></span><span class="anchor" id="line-360"></span><span class="anchor" id="line-361"></span><span class="anchor" id="line-362"></span><span class="anchor" id="line-363"></span><span class="anchor" id="line-364"></span><span class="anchor" id="line-365"></span><span class="anchor" id="line-366"></span><span class="anchor" id="line-367"></span><span class="anchor" id="line-368"></span><span class="anchor" id="line-369"></span><span class="anchor" id="line-370"></span><span class="anchor" id="line-371"></span><span class="anchor" id="line-372"></span><span class="anchor" id="line-373"></span><span class="anchor" id="line-374"></span><span class="anchor" id="line-375"></span><span class="anchor" id="line-376"></span><span class="anchor" id="line-377"></span><span class="anchor" id="line-378"></span><span class="anchor" id="line-379"></span><span class="anchor" id="line-380"></span><span class="anchor" id="line-381"></span><span class="anchor" id="line-382"></span><span class="anchor" id="line-383"></span><span class="anchor" id="line-384"></span><span class="anchor" id="line-385"></span><span class="anchor" id="line-386"></span><span class="anchor" id="line-387"></span><span class="anchor" id="line-388"></span><span class="anchor" id="line-389"></span><span class="anchor" id="line-390"></span><span class="anchor" id="line-391"></span><span class="anchor" id="line-392"></span><span class="anchor" id="line-393"></span><span class="anchor" id="line-394"></span><span class="anchor" id="line-395"></span><span class="anchor" id="line-396"></span><span class="anchor" id="line-397"></span><span class="anchor" id="line-398"></span><span class="anchor" id="line-399"></span><span class="anchor" id="line-400"></span><span class="anchor" id="line-401"></span><span class="anchor" id="line-402"></span><span class="anchor" id="line-403"></span><span class="anchor" id="line-404"></span><span class="anchor" id="line-405"></span><span class="anchor" id="line-406"></span><span class="anchor" id="line-407"></span><span class="anchor" id="line-408"></span><span class="anchor" id="line-409"></span><span class="anchor" id="line-410"></span><span class="anchor" id="line-411"></span><span class="anchor" id="line-412"></span><span class="anchor" id="line-413"></span><span class="anchor" id="line-414"></span><span class="anchor" id="line-415"></span><span class="anchor" id="line-416"></span><span class="anchor" id="line-417"></span><span class="anchor" id="line-418"></span><span class="anchor" id="line-419"></span><span class="anchor" id="line-420"></span><span class="anchor" id="line-421"></span><span class="anchor" id="line-422"></span><span class="anchor" id="line-423"></span><span class="anchor" id="line-424"></span><span class="anchor" id="line-425"></span><span class="anchor" id="line-426"></span><span class="anchor" id="line-427"></span><span class="anchor" id="line-428"></span><span class="anchor" id="line-429"></span><span class="anchor" id="line-430"></span><span class="anchor" id="line-431"></span><span class="anchor" id="line-432"></span><span class="anchor" id="line-433"></span><span class="anchor" id="line-434"></span><span class="anchor" id="line-435"></span><span class="anchor" id="line-436"></span><span class="anchor" id="line-437"></span><span class="anchor" id="line-438"></span><span class="anchor" id="line-439"></span><span class="anchor" id="line-440"></span><span class="anchor" id="line-441"></span><span class="anchor" id="line-442"></span><span class="anchor" id="line-443"></span><span class="anchor" id="line-444"></span><span class="anchor" id="line-445"></span><span class="anchor" id="line-446"></span><span class="anchor" id="line-447"></span><span class="anchor" id="line-448"></span><span class="anchor" id="line-449"></span><span class="anchor" id="line-450"></span><span class="anchor" id="line-451"></span><span class="anchor" id="line-452"></span><span class="anchor" id="line-453"></span><span class="anchor" id="line-454"></span><span class="anchor" id="line-455"></span><span class="anchor" id="line-456"></span><span class="anchor" id="line-457"></span><span class="anchor" id="line-458"></span><span class="anchor" id="line-459"></span><span class="anchor" id="line-460"></span><span class="anchor" id="line-461"></span><span class="anchor" id="line-462"></span><span class="anchor" id="line-463"></span><span class="anchor" id="line-464"></span><span class="anchor" id="line-465"></span><span class="anchor" id="line-466"></span><span class="anchor" id="line-467"></span><span class="anchor" id="line-468"></span><span class="anchor" id="line-469"></span><span class="anchor" id="line-470"></span><span class="anchor" id="line-471"></span><pre><span class="anchor" id="line-1-25"></span>import java.io.IOException;
<span class="anchor" id="line-2-17"></span>import java.net.MalformedURLException;
<span class="anchor" id="line-3-17"></span>import java.sql.ResultSet;
<span class="anchor" id="line-4-14"></span>import java.sql.ResultSetMetaData;
<span class="anchor" id="line-5-10"></span>import java.sql.SQLException;
<span class="anchor" id="line-6-7"></span>import java.sql.Types;
<span class="anchor" id="line-7-7"></span>import java.util.ArrayList;
<span class="anchor" id="line-8-4"></span>import java.util.Collection;
<span class="anchor" id="line-9-4"></span>
<span class="anchor" id="line-10-3"></span>import org.apache.solr.client.solrj.SolrServerException;
<span class="anchor" id="line-11-3"></span>import org.apache.solr.client.solrj.impl.HttpSolrServer;
<span class="anchor" id="line-12-3"></span>import org.apache.solr.common.SolrInputDocument;
<span class="anchor" id="line-13-3"></span>
<span class="anchor" id="line-14-2"></span>public class Test
<span class="anchor" id="line-15-2"></span>{
<span class="anchor" id="line-16-1"></span>    private static int fetchSize = 1000;
<span class="anchor" id="line-17-1"></span>    private static String url = "http://localhost:8983/solr/core1/";
<span class="anchor" id="line-18-1"></span>    private static HttpSolrServer solrCore;
<span class="anchor" id="line-19"></span>
<span class="anchor" id="line-20"></span>    public Test() throws MalformedURLException
<span class="anchor" id="line-21"></span>    {
<span class="anchor" id="line-22"></span>         solrCore = new HttpSolrServer(url);
<span class="anchor" id="line-23"></span>    }
<span class="anchor" id="line-24"></span>
<span class="anchor" id="line-25"></span>    /**
<span class="anchor" id="line-26"></span>     * Takes an SQL ResultSet and adds the documents to solr. Does it in batches
<span class="anchor" id="line-27"></span>     * of fetchSize.
<span class="anchor" id="line-28"></span>     * 
<span class="anchor" id="line-29"></span>     * @param rs
<span class="anchor" id="line-30"></span>     *            A ResultSet from the database.
<span class="anchor" id="line-31"></span>     * @return The number of documents added to solr.
<span class="anchor" id="line-32"></span>     * @throws SQLException
<span class="anchor" id="line-33"></span>     * @throws SolrServerException
<span class="anchor" id="line-34"></span>     * @throws IOException
<span class="anchor" id="line-35"></span>     */
<span class="anchor" id="line-36"></span>    public long addResultSet(ResultSet rs) throws SQLException,
<span class="anchor" id="line-37"></span>            SolrServerException, IOException
<span class="anchor" id="line-38"></span>    {
<span class="anchor" id="line-39"></span>        long count = 0;
<span class="anchor" id="line-40"></span>        int innerCount = 0;
<span class="anchor" id="line-41"></span>        Collection&lt;SolrInputDocument&gt; docs = new ArrayList&lt;SolrInputDocument&gt;();
<span class="anchor" id="line-42"></span>        ResultSetMetaData rsm = rs.getMetaData();
<span class="anchor" id="line-43"></span>        int numColumns = rsm.getColumnCount();
<span class="anchor" id="line-44"></span>        String[] colNames = new String[numColumns + 1];
<span class="anchor" id="line-45"></span>
<span class="anchor" id="line-46"></span>        /**
<span class="anchor" id="line-47"></span>         * JDBC numbers the columns starting at 1, so the normal java convention
<span class="anchor" id="line-48"></span>         * of starting at zero won't work.
<span class="anchor" id="line-49"></span>         */
<span class="anchor" id="line-50"></span>        for (int i = 1; i &lt; (numColumns + 1); i++)
<span class="anchor" id="line-51"></span>        {
<span class="anchor" id="line-52"></span>            colNames[i] = rsm.getColumnName(i);
<span class="anchor" id="line-53"></span>            /**
<span class="anchor" id="line-54"></span>             * If there are fields that you want to handle manually, check for
<span class="anchor" id="line-55"></span>             * them here and change that entry in colNames to null. This will
<span class="anchor" id="line-56"></span>             * cause the loop in the next section to skip that database column.
<span class="anchor" id="line-57"></span>             */
<span class="anchor" id="line-58"></span>            // //Example:
<span class="anchor" id="line-59"></span>            // if (rsm.getColumnName(i) == "db_id")
<span class="anchor" id="line-60"></span>            // {
<span class="anchor" id="line-61"></span>            // colNames[i] = null;
<span class="anchor" id="line-62"></span>            // }
<span class="anchor" id="line-63"></span>        }
<span class="anchor" id="line-64"></span>
<span class="anchor" id="line-65"></span>        while (rs.next())
<span class="anchor" id="line-66"></span>        {
<span class="anchor" id="line-67"></span>            count++;
<span class="anchor" id="line-68"></span>            innerCount++;
<span class="anchor" id="line-69"></span>
<span class="anchor" id="line-70"></span>            SolrInputDocument doc = new SolrInputDocument();
<span class="anchor" id="line-71"></span>
<span class="anchor" id="line-72"></span>            /**
<span class="anchor" id="line-73"></span>             * At this point, take care of manual document field assignments for
<span class="anchor" id="line-74"></span>             * which you previously assigned the colNames entry to null.
<span class="anchor" id="line-75"></span>             */
<span class="anchor" id="line-76"></span>            // //Example:
<span class="anchor" id="line-77"></span>            // doc.addField("solr_db_id", rs.getLong("db_id"));
<span class="anchor" id="line-78"></span>
<span class="anchor" id="line-79"></span>            for (int j = 1; j &lt; (numColumns + 1); j++)
<span class="anchor" id="line-80"></span>            {
<span class="anchor" id="line-81"></span>                if (colNames[j] != null)
<span class="anchor" id="line-82"></span>                {
<span class="anchor" id="line-83"></span>                    Object f;
<span class="anchor" id="line-84"></span>                    switch (rsm.getColumnType(j))
<span class="anchor" id="line-85"></span>                    {
<span class="anchor" id="line-86"></span>                        case Types.BIGINT:
<span class="anchor" id="line-87"></span>                        {
<span class="anchor" id="line-88"></span>                            f = rs.getLong(j);
<span class="anchor" id="line-89"></span>                            break;
<span class="anchor" id="line-90"></span>                        }
<span class="anchor" id="line-91"></span>                        case Types.INTEGER:
<span class="anchor" id="line-92"></span>                        {
<span class="anchor" id="line-93"></span>                            f = rs.getInt(j);
<span class="anchor" id="line-94"></span>                            break;
<span class="anchor" id="line-95"></span>                        }
<span class="anchor" id="line-96"></span>                        case Types.DATE:
<span class="anchor" id="line-97"></span>                        {
<span class="anchor" id="line-98"></span>                            f = rs.getDate(j);
<span class="anchor" id="line-99"></span>                            break;
<span class="anchor" id="line-100"></span>                        }
<span class="anchor" id="line-101"></span>                        case Types.FLOAT:
<span class="anchor" id="line-102"></span>                        {
<span class="anchor" id="line-103"></span>                            f = rs.getFloat(j);
<span class="anchor" id="line-104"></span>                            break;
<span class="anchor" id="line-105"></span>                        }
<span class="anchor" id="line-106"></span>                        case Types.DOUBLE:
<span class="anchor" id="line-107"></span>                        {
<span class="anchor" id="line-108"></span>                            f = rs.getDouble(j);
<span class="anchor" id="line-109"></span>                            break;
<span class="anchor" id="line-110"></span>                        }
<span class="anchor" id="line-111"></span>                        case Types.TIME:
<span class="anchor" id="line-112"></span>                        {
<span class="anchor" id="line-113"></span>                            f = rs.getDate(j);
<span class="anchor" id="line-114"></span>                            break;
<span class="anchor" id="line-115"></span>                        }
<span class="anchor" id="line-116"></span>                        case Types.BOOLEAN:
<span class="anchor" id="line-117"></span>                        {
<span class="anchor" id="line-118"></span>                            f = rs.getBoolean(j);
<span class="anchor" id="line-119"></span>                            break;
<span class="anchor" id="line-120"></span>                        }
<span class="anchor" id="line-121"></span>                        default:
<span class="anchor" id="line-122"></span>                        {
<span class="anchor" id="line-123"></span>                            f = rs.getString(j);
<span class="anchor" id="line-124"></span>                        }
<span class="anchor" id="line-125"></span>                    }
<span class="anchor" id="line-126"></span>                    doc.addField(colNames[j], f);
<span class="anchor" id="line-127"></span>                }
<span class="anchor" id="line-128"></span>            }
<span class="anchor" id="line-129"></span>            docs.add(doc);
<span class="anchor" id="line-130"></span>
<span class="anchor" id="line-131"></span>            /**
<span class="anchor" id="line-132"></span>             * When we reach fetchSize, index the documents and reset the inner
<span class="anchor" id="line-133"></span>             * counter.
<span class="anchor" id="line-134"></span>             */
<span class="anchor" id="line-135"></span>            if (innerCount == fetchSize)
<span class="anchor" id="line-136"></span>            {
<span class="anchor" id="line-137"></span>                solrCore.add(docs);
<span class="anchor" id="line-138"></span>                docs.clear();
<span class="anchor" id="line-139"></span>                innerCount = 0;
<span class="anchor" id="line-140"></span>            }
<span class="anchor" id="line-141"></span>        }
<span class="anchor" id="line-142"></span>
<span class="anchor" id="line-143"></span>        /**
<span class="anchor" id="line-144"></span>         * If the outer loop ended before the inner loop reset, index the
<span class="anchor" id="line-145"></span>         * remaining documents.
<span class="anchor" id="line-146"></span>         */
<span class="anchor" id="line-147"></span>        if (innerCount != 0)
<span class="anchor" id="line-148"></span>        {
<span class="anchor" id="line-149"></span>            solrCore.add(docs);
<span class="anchor" id="line-150"></span>        }
<span class="anchor" id="line-151"></span>        return count;
<span class="anchor" id="line-152"></span>    }
<span class="anchor" id="line-153"></span>}</pre><span class="anchor" id="line-472"></span><p class="line867">
<h2 id="Setting_the_RequestWriter">Setting the RequestWriter</h2>
<span class="anchor" id="line-473"></span><span class="anchor" id="line-474"></span><p class="line874">SolrJ lets you upload content in XML and Binary format. The default is set to be XML.  Use the following to upload using Binary format. This is the same format which SolrJ uses to fetch results, and can greatly improve performance as it reduces XML marshalling overhead. <span class="anchor" id="line-475"></span><span class="anchor" id="line-476"></span><p class="line867"><span class="anchor" id="line-477"></span><span class="anchor" id="line-478"></span><pre><span class="anchor" id="line-1-26"></span>    server.setRequestWriter(new BinaryRequestWriter());</pre><span class="anchor" id="line-479"></span><p class="line867"><img alt="/!\" height="16" src="https://wiki.apache.org/wiki/modernized/img/alert.png" title="/!\" width="16" /> Note -- be sure you have also enabled the "<a class="nonexistent" href="https://wiki.apache.org/solr/BinaryUpdateRequestHandler">BinaryUpdateRequestHandler</a>" in your solrconfig.xml <span class="anchor" id="line-480"></span>for example like: <span class="anchor" id="line-481"></span><span class="anchor" id="line-482"></span><span class="anchor" id="line-483"></span><pre><span class="anchor" id="line-1-27"></span>    &lt;requestHandler name="/update/javabin" class="solr.BinaryUpdateRequestHandler" /&gt;</pre><span class="anchor" id="line-484"></span><p class="line867">
<h2 id="Reading_Data_from_Solr">Reading Data from Solr</h2>
<span class="anchor" id="line-485"></span><ul><li>Get an instance of server first <span class="anchor" id="line-486"></span><span class="anchor" id="line-487"></span></li></ul><p class="line867"><span class="anchor" id="line-488"></span><span class="anchor" id="line-489"></span><pre><span class="anchor" id="line-1-28"></span>    SolrServer server = getSolrServer();</pre><span class="anchor" id="line-490"></span><ul><li><p class="line862">Construct a <a class="http" href="http://lucene.apache.org/solr/api/solr-solrj/org/apache/solr/client/solrj/SolrQuery.html">SolrQuery</a> <span class="anchor" id="line-491"></span><span class="anchor" id="line-492"></span></li></ul><p class="line867"><span class="anchor" id="line-493"></span><span class="anchor" id="line-494"></span><span class="anchor" id="line-495"></span><span class="anchor" id="line-496"></span><pre><span class="anchor" id="line-1-29"></span>    SolrQuery query = new SolrQuery();
<span class="anchor" id="line-2-18"></span>    query.setQuery( "*:*" );
<span class="anchor" id="line-3-18"></span>    query.addSortField( "price", SolrQuery.ORDER.asc );</pre><span class="anchor" id="line-497"></span><ul><li>Query the server <span class="anchor" id="line-498"></span><span class="anchor" id="line-499"></span></li></ul><p class="line867"><span class="anchor" id="line-500"></span><span class="anchor" id="line-501"></span><pre><span class="anchor" id="line-1-30"></span>    QueryResponse rsp = server.query( query );</pre><span class="anchor" id="line-502"></span><ul><li>Get the results <span class="anchor" id="line-503"></span><span class="anchor" id="line-504"></span></li></ul><p class="line867"><span class="anchor" id="line-505"></span><span class="anchor" id="line-506"></span><pre><span class="anchor" id="line-1-31"></span> SolrDocumentList docs = rsp.getResults();</pre><span class="anchor" id="line-507"></span><ul><li><p class="line862">To read Documents as beans, the  bean must be annotated as given in the <a href="https://wiki.apache.org/solr/Solrj#pojo">example</a>. <span class="anchor" id="line-508"></span><span class="anchor" id="line-509"></span></li></ul><p class="line867"><span class="anchor" id="line-510"></span><span class="anchor" id="line-511"></span><pre><span class="anchor" id="line-1-32"></span>   List&lt;Item&gt; beans = rsp.getBeans(Item.class);</pre><span class="anchor" id="line-512"></span><p class="line867">
<h3 id="Advanced_usage">Advanced usage</h3>
<span class="anchor" id="line-513"></span><p class="line874">SolrJ provides a APIs to create queries instead of hand coding the query . Following is an example of a faceted query. <span class="anchor" id="line-514"></span><span class="anchor" id="line-515"></span><p class="line867"><span class="anchor" id="line-516"></span><span class="anchor" id="line-517"></span><span class="anchor" id="line-518"></span><span class="anchor" id="line-519"></span><span class="anchor" id="line-520"></span><span class="anchor" id="line-521"></span><span class="anchor" id="line-522"></span><span class="anchor" id="line-523"></span><span class="anchor" id="line-524"></span><span class="anchor" id="line-525"></span><pre><span class="anchor" id="line-1-33"></span>  SolrServer server = getSolrServer();
<span class="anchor" id="line-2-19"></span>  SolrQuery solrQuery = new  SolrQuery().
<span class="anchor" id="line-3-19"></span>                setQuery("ipod").
<span class="anchor" id="line-4-15"></span>                setFacet(true).
<span class="anchor" id="line-5-11"></span>                setFacetMinCount(1).
<span class="anchor" id="line-6-8"></span>                setFacetLimit(8).
<span class="anchor" id="line-7-8"></span>                addFacetField("category").
<span class="anchor" id="line-8-5"></span>                addFacetField("inStock");
<span class="anchor" id="line-9-5"></span>  QueryResponse rsp = server.query(solrQuery);</pre><span class="anchor" id="line-526"></span><p class="line874">All the setter/add methods return its instance . Hence these calls can be chained <span class="anchor" id="line-527"></span><span class="anchor" id="line-528"></span><p class="line867">
<h3 id="Highlighting">Highlighting</h3>
<span class="anchor" id="line-529"></span><p class="line874">Highlighting parameters are set like other common parameters. <span class="anchor" id="line-530"></span><span class="anchor" id="line-531"></span><p class="line867"><span class="anchor" id="line-532"></span><span class="anchor" id="line-533"></span><span class="anchor" id="line-534"></span><span class="anchor" id="line-535"></span><span class="anchor" id="line-536"></span><span class="anchor" id="line-537"></span><span class="anchor" id="line-538"></span><span class="anchor" id="line-539"></span><pre><span class="anchor" id="line-1-34"></span>    SolrQuery query = new SolrQuery();
<span class="anchor" id="line-2-20"></span>    query.setQuery("foo");
<span class="anchor" id="line-3-20"></span>
<span class="anchor" id="line-4-16"></span>    query.setHighlight(true).setHighlightSnippets(1); //set other params as needed
<span class="anchor" id="line-5-12"></span>    query.setParam("hl.fl", "content");
<span class="anchor" id="line-6-9"></span>
<span class="anchor" id="line-7-9"></span>    QueryResponse queryResponse = getSolrServer().query(query);</pre><span class="anchor" id="line-540"></span><p class="line874">Then to get back the highlight results you need something like this: <span class="anchor" id="line-541"></span><span class="anchor" id="line-542"></span><p class="line867"><span class="anchor" id="line-543"></span><span class="anchor" id="line-544"></span><span class="anchor" id="line-545"></span><span class="anchor" id="line-546"></span><span class="anchor" id="line-547"></span><span class="anchor" id="line-548"></span><span class="anchor" id="line-549"></span><span class="anchor" id="line-550"></span><span class="anchor" id="line-551"></span><span class="anchor" id="line-552"></span><span class="anchor" id="line-553"></span><span class="anchor" id="line-554"></span><span class="anchor" id="line-555"></span><pre><span class="anchor" id="line-1-35"></span>    Iterator&lt;SolrDocument&gt; iter = queryResponse.getResults().iterator();
<span class="anchor" id="line-2-21"></span>
<span class="anchor" id="line-3-21"></span>    while (iter.hasNext()) {
<span class="anchor" id="line-4-17"></span>      SolrDocument resultDoc = iter.next();
<span class="anchor" id="line-5-13"></span>
<span class="anchor" id="line-6-10"></span>      String content = (String) resultDoc.getFieldValue("content");
<span class="anchor" id="line-7-10"></span>      String id = (String) resultDoc.getFieldValue("id"); //id is the uniqueKey field
<span class="anchor" id="line-8-6"></span>
<span class="anchor" id="line-9-6"></span>      if (queryResponse.getHighlighting().get(id) != null) {
<span class="anchor" id="line-10-4"></span>        List&lt;String&gt; highlightSnippets = queryResponse.getHighlighting().get(id).get("content");
<span class="anchor" id="line-11-4"></span>      }
<span class="anchor" id="line-12-4"></span>    }</pre><span class="anchor" id="line-556"></span><span class="anchor" id="line-557"></span><p class="line867">
<h3 id="Load_Balancer_for_Queries">Load Balancer for Queries</h3>
<span class="anchor" id="line-558"></span><p class="line862">Although you are certainly welcome to use an external load balancer of your choice when you have multiple Solr servers that can process queries, SolrJ does provide a simple built-in round-robin load balancer, <a href="https://wiki.apache.org/solr/LBHttpSolrServer">LBHttpSolrServer</a>. <span class="anchor" id="line-559"></span>
<h2 id="Use_Groovy_and_Grape">Use Groovy and Grape</h2>
<span class="anchor" id="line-560"></span><p class="line867"><span class="anchor" id="line-561"></span><span class="anchor" id="line-562"></span><span class="anchor" id="line-563"></span><span class="anchor" id="line-564"></span><span class="anchor" id="line-565"></span><span class="anchor" id="line-566"></span><span class="anchor" id="line-567"></span><span class="anchor" id="line-568"></span><span class="anchor" id="line-569"></span><span class="anchor" id="line-570"></span><span class="anchor" id="line-571"></span><span class="anchor" id="line-572"></span><span class="anchor" id="line-573"></span><span class="anchor" id="line-574"></span><span class="anchor" id="line-575"></span><span class="anchor" id="line-576"></span><span class="anchor" id="line-577"></span><span class="anchor" id="line-578"></span><span class="anchor" id="line-579"></span><span class="anchor" id="line-580"></span><span class="anchor" id="line-581"></span><span class="anchor" id="line-582"></span><pre><span class="anchor" id="line-1-36"></span>@Grab(group='org.apache.solr', module='solr-solrj', version='1.4.1')
<span class="anchor" id="line-2-22"></span>@Grab(group='org.slf4j', module='slf4j-jdk14', version='1.5.5')
<span class="anchor" id="line-3-22"></span>import org.apache.solr.client.solrj.impl.HttpSolrServer
<span class="anchor" id="line-4-18"></span>import org.apache.solr.common.SolrInputDocument
<span class="anchor" id="line-5-14"></span>
<span class="anchor" id="line-6-11"></span>String url = "http://localhost:8983/solr"
<span class="anchor" id="line-7-11"></span>def server = new HttpSolrServer( url );
<span class="anchor" id="line-8-7"></span>
<span class="anchor" id="line-9-7"></span>def doc = new SolrInputDocument()
<span class="anchor" id="line-10-5"></span>
<span class="anchor" id="line-11-5"></span>doc.addField("id", 2)
<span class="anchor" id="line-12-5"></span>doc.addField("word_s", "Cow")
<span class="anchor" id="line-13-4"></span>doc.addField("desc_t", "Farm Animal")
<span class="anchor" id="line-14-3"></span>
<span class="anchor" id="line-15-3"></span>server.add(doc)
<span class="anchor" id="line-16-2"></span>server.commit()
<span class="anchor" id="line-17-2"></span>
<span class="anchor" id="line-18-2"></span>println 'done'</pre><span class="anchor" id="line-583"></span><p class="line867">
<h2 id="Using_with_SolrCloud">Using with SolrCloud</h2>
<span class="anchor" id="line-584"></span><p class="line862">SolrJ includes a 'smart' client for <a href="https://wiki.apache.org/solr/SolrCloud">SolrCloud</a>, which is <a class="nonexistent" href="https://wiki.apache.org/solr/ZooKeeper">ZooKeeper</a> aware. This means that your Java application only needs to know about your Zookeeper instances, and not where your Solr instances are, as this can be derived from <a class="nonexistent" href="https://wiki.apache.org/solr/ZooKeeper">ZooKeeper</a>. <span class="anchor" id="line-585"></span><span class="anchor" id="line-586"></span><p class="line862">To interact with <a href="https://wiki.apache.org/solr/SolrCloud">SolrCloud</a>, you should use an instance of <a class="nonexistent" href="https://wiki.apache.org/solr/CloudSolrServer">CloudSolrServer</a>, and pass it your <a class="nonexistent" href="https://wiki.apache.org/solr/ZooKeeper">ZooKeeper</a> host or hosts. <span class="anchor" id="line-587"></span><span class="anchor" id="line-588"></span><p class="line862">Beyond the instantiation of the <a class="nonexistent" href="https://wiki.apache.org/solr/CloudSolrServer">CloudSolrServer</a>, the behaviour should be the same as regular SolrJ. <span class="anchor" id="line-589"></span><span class="anchor" id="line-590"></span><p class="line867"><span class="anchor" id="line-591"></span><span class="anchor" id="line-592"></span><span class="anchor" id="line-593"></span><span class="anchor" id="line-594"></span><span class="anchor" id="line-595"></span><span class="anchor" id="line-596"></span><span class="anchor" id="line-597"></span><span class="anchor" id="line-598"></span><span class="anchor" id="line-599"></span><span class="anchor" id="line-600"></span><span class="anchor" id="line-601"></span><pre><span class="anchor" id="line-1-37"></span>import org.apache.solr.client.solrj.impl.CloudSolrServer;
<span class="anchor" id="line-2-23"></span>import org.apache.solr.common.SolrInputDocument;
<span class="anchor" id="line-3-23"></span>
<span class="anchor" id="line-4-19"></span>CloudSolrServer server = new CloudSolrServer("localhost:9983");
<span class="anchor" id="line-5-15"></span>server.setDefaultCollection("collection1");
<span class="anchor" id="line-6-12"></span>SolrInputDocument doc = new SolrInputDocument();
<span class="anchor" id="line-7-12"></span>doc.addField( "id", "1234");
<span class="anchor" id="line-8-8"></span>doc.addField( "name", "A lovely summer holiday");
<span class="anchor" id="line-9-8"></span>server.add(doc);
<span class="anchor" id="line-10-6"></span>server.commit();</pre><span class="anchor" id="line-602"></span><span class="anchor" id="bottom"></span></div><p id="pageinfo" class="info" lang="en" dir="ltr">Solrj  (last edited 2013-08-20 13:34:31 by <span title="CassandraTargett @ 173.22.77.226[173.22.77.226]"><a class="nonexistent" href="https://wiki.apache.org/solr/CassandraTargett" title="CassandraTargett @ 173.22.77.226[173.22.77.226]">CassandraTargett</a></span>)</p>

<div id="pagebottom"></div>
</div>


<div id="footer">
<ul class="editbar"><li><span class="disabled">Immutable Page</span></li><li class="toggleCommentsButton" style="display:none;"><a href="#" class="nbcomment" onClick="toggleComments();return false;">Comments</a></li><li><a class="nbinfo" href="https://wiki.apache.org/solr/Solrj?action=info" rel="nofollow">Info</a></li><li><a class="nbattachments" href="https://wiki.apache.org/solr/Solrj?action=AttachFile" rel="nofollow">Attachments</a></li><li>
<form class="actionsmenu" method="GET" action="https://wiki.apache.org/solr/Solrj">
<div>
    <label>More Actions:</label>
    <select name="action"
        onchange="if ((this.selectedIndex != 0) &&
                      (this.options[this.selectedIndex].disabled == false)) {
                this.form.submit();
            }
            this.selectedIndex = 0;">
        <option value="raw">Raw Text</option>
<option value="print">Print View</option>
<option value="RenderAsDocbook">Render as Docbook</option>
<option value="refresh">Delete Cache</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="SpellCheck">Check Spelling</option>
<option value="LikePages">Like Pages</option>
<option value="LocalSiteMap">Local Site Map</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="RenamePage" disabled class="disabled">Rename Page</option>
<option value="CopyPage">Copy Page</option>
<option value="DeletePage" disabled class="disabled">Delete Page</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="MyPages">My Pages</option>
<option value="show" disabled class="disabled">Subscribe User</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">Remove Spam</option>
<option value="show" disabled class="disabled">Revert to this revision</option>
<option value="PackagePages">Package Pages</option>
<option value="SyncPages">Sync Pages</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="Load">Load</option>
<option value="Save">Save</option>
<option value="SlideShow">SlideShow</option>
    </select>
    <input type="submit" value="Do">
    
</div>
<script type="text/javascript">
<!--// Init menu
actionsMenuInit('More Actions:');
//-->
</script>
</form>
</li></ul>

<ul id="credits">
<li><a href="http://moinmo.in/" title="This site uses the MoinMoin Wiki software.">MoinMoin Powered</a></li><li><a href="http://moinmo.in/Python" title="MoinMoin is written in Python.">Python Powered</a></li><li><a href="http://moinmo.in/GPL" title="MoinMoin is GPL licensed.">GPL licensed</a></li><li><a href="http://validator.w3.org/check?uri=referer" title="Click here to validate this page.">Valid HTML 4.01</a></li>
</ul>


</div>
</body>

<!-- Mirrored from wiki.apache.org/solr/Solrj by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 09 Sep 2015 08:44:48 GMT -->
</html>

